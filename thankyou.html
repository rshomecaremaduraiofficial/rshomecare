<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Appointment Confirmed â€“ RS Home Care</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<script src="https://unpkg.com/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

<style>
body{
  font-family:'Poppins',sans-serif;
  background:#f5f9ff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.box{
  background:#fff;
  padding:40px;
  border-radius:20px;
  max-width:420px;
  width:100%;
  text-align:center;
  box-shadow:0 15px 40px rgba(0,0,0,.15);
}
img{max-width:120px;margin-bottom:15px}
button{
  margin-top:20px;
  padding:14px 28px;
  border:none;
  border-radius:30px;
  background:#2ecc71;
  color:#fff;
  font-weight:600;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="box">
  <img src="logo.png" alt="RS Home Care">
  <h2>Appointment Submitted</h2>
  <p id="clientInfo"></p>

  <button id="downloadBtn">Download Confirmation Letter</button>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {

  const name  = sessionStorage.getItem("rs_client_name") || "Client";
  const phone = sessionStorage.getItem("rs_client_phone") || "N/A";

  document.getElementById("clientInfo").innerHTML =
    `<strong>Name:</strong> ${name}<br><strong>Phone:</strong> ${phone}`;

  document.getElementById("downloadBtn").addEventListener("click", generatePDF);

  function generatePDF(){
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    // HEADER
    doc.setFont("helvetica","bold");
    doc.setFontSize(18);
    doc.text("RS HOME CARE",105,20,{align:"center"});

    doc.setFontSize(12);
    doc.setFont("helvetica","normal");
    doc.text("Appointment Confirmation Letter",105,30,{align:"center"});
    doc.line(20,35,190,35);

    const date = new Date().toLocaleDateString("en-GB",{
      day:"2-digit",
      month:"long",
      year:"numeric"
    });

    // CLIENT DETAILS
    doc.setFont("helvetica","bold");
    doc.text("Client Details",20,50);

    doc.setFont("helvetica","normal");
    doc.text(`Name : ${name}`,20,60);
    doc.text(`Phone: ${phone}`,20,68);
    doc.text(`Date : ${date}`,20,76);

    // BODY
    doc.text(
      "Thank you for booking an appointment with RS Home Care.\n\n" +
      "Your appointment request has been successfully received.\n" +
      "Our care team will contact you shortly to confirm the details.\n\n" +
      "We look forward to serving you with compassion and care.",
      20,95
    );

    // SIGNATURE
    doc.text("For RS Home Care,",20,145);
    doc.text("Management",20,153);

    const img = new Image();
    img.src = "signature.png";

    img.onload = () => {
      doc.addImage(img,"PNG",20,158,60,25);

      doc.setFontSize(10);
      doc.text("RS Home Care Pvt Ltd",105,190,{align:"center"});
      doc.text(
        "Phone: +91 7550052799 | Email: rshomecaremaduraiofficial@gmail.com",
        105,197,{align:"center"}
      );

      doc.save("RS_Home_Care_Appointment_Confirmation.pdf");
    };
  }
});

</script>

</body>
</html>
