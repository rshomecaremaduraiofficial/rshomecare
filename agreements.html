<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RS Home Care – Agreements</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
body{font-family:Poppins;background:#f5f9ff;margin:0}
.container{max-width:600px;margin:80px auto;text-align:center}
.card{background:#fff;padding:25px;border-radius:18px;margin-bottom:20px;box-shadow:0 10px 25px rgba(0,0,0,.1)}
button{padding:12px 25px;border:none;border-radius:30px;background:#0f4c81;color:#fff;font-weight:600;cursor:pointer}
button:hover{background:#2ecc71}
.checkbox{margin-top:15px;font-size:14px}
.checkbox input{margin-right:6px}

textarea{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid #ccc;
  font-family:Poppins;
  font-size:14px;
  resize:none;
  margin-top:15px;
}

/* MODAL */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center}
.modal-box{background:#fff;width:90%;max-width:900px;border-radius:14px;overflow:hidden}
.modal-header{background:#0f4c81;color:#fff;padding:15px;display:flex;gap:10px}
.modal-header span{flex:1}
.modal-header button{background:#2ecc71;padding:6px 14px;border-radius:8px}
iframe{width:100%;height:75vh;border:none}
</style>
</head>

<body>

<div class="container">
<h2>Service Agreements</h2>

<div class="card">
<h3>Government Contract Form</h3>
<button onclick="requestPassword('Government Contract form final.pdf','Government Contract Form')">View Agreement</button>
</div>

<div class="card">
<h3>RS Home Care Agreement – English</h3>
<button onclick="requestPassword('RS Home Care English.pdf','English Agreement')">View Agreement</button>
</div>

<div class="card">
<h3>RS Home Care Agreement – Tamil</h3>
<button onclick="requestPassword('RS Home Care Tamil.pdf','Tamil Agreement')">View Agreement</button>
</div>

<!-- FORM -->
<form action="https://formsubmit.co/rshomecaremaduraiofficial@gmail.com" method="POST" onsubmit="return submitEnquiry()">

  <!-- Message Box -->
  <textarea name="message" rows="4" placeholder="Write your message here..." required></textarea>

  <!-- Agreement Checkbox -->
  <div class="checkbox">
    <input type="checkbox" id="agreeChk">
    <label for="agreeChk">I have read and agree to the Service Agreement</label>
  </div>

  <!-- Hidden Fields -->
  <input type="hidden" name="_subject" value="New Agreement Enquiry - RS Home Care">
  <input type="hidden" name="_captcha" value="false">
  <input type="hidden" name="Agreement Accepted" value="Yes">

  <br>
  <button type="submit">Send Enquiry</button>

</form>
</div>

<!-- MODAL -->
<div class="modal" id="pdfModal">
<div class="modal-box">
<div class="modal-header">
<span id="title"></span>
<button onclick="downloadPDF()">Download</button>
<button onclick="closeModal()">✕</button>
</div>
<iframe id="viewer"></iframe>
</div>
</div>

<script>
const AGREEMENT_PASSWORD = "RShomecare";
let currentPDF = "";
let agreementName = "";

/* PASSWORD GATE */
function requestPassword(file,title){
  const pwd = prompt("Enter agreement password:");
  if(pwd !== AGREEMENT_PASSWORD){
    alert("Incorrect password");
    return;
  }
  openPDF(file,title);
}

/* OPEN PDF */
function openPDF(file,title){
  currentPDF = file;
  agreementName = title;
  document.getElementById("viewer").src = file;
  document.getElementById("title").innerText = title;
  document.getElementById("pdfModal").style.display="flex";
}

/* DOWNLOAD */
function downloadPDF(){
  const a = document.createElement("a");
  a.href = currentPDF;
  a.download = currentPDF.split("/").pop();
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
}

/* SUBMIT VALIDATION */
function submitEnquiry(){
  if(!document.getElementById("agreeChk").checked){
    alert("You must accept the agreement before submitting.");
    return false;
  }
  return true; // allow form submit
}

/* CLOSE */
function closeModal(){
  document.getElementById("pdfModal").style.display="none";
  document.getElementById("viewer").src="";
}
</script>

</body>
</html>
